# THIS FILE WAS AUTO-GENERATED
#
#  $ lcitool manifest ci/manifest.yml
#
# https://gitlab.com/libvirt/libvirt-ci


# Native build jobs

x86_64-almalinux-9:
  extends: .native_build_job
  needs:
    - job: x86_64-almalinux-9-container
      optional: true
  allow_failure: false
  variables:
    NAME: almalinux-9
    RUST: skip
    TARGET_BASE_IMAGE: docker.io/library/almalinux:9


x86_64-alpine-320:
  extends: .native_build_job
  needs:
    - job: x86_64-alpine-320-container
      optional: true
  allow_failure: false
  variables:
    GOLANG: skip
    NAME: alpine-320
    TARGET_BASE_IMAGE: docker.io/library/alpine:3.20


x86_64-alpine-321:
  extends: .native_build_job
  needs:
    - job: x86_64-alpine-321-container
      optional: true
  allow_failure: false
  variables:
    GOLANG: skip
    NAME: alpine-321
    TARGET_BASE_IMAGE: docker.io/library/alpine:3.21


x86_64-alpine-edge:
  extends: .native_build_job
  needs:
    - job: x86_64-alpine-edge-container
      optional: true
  allow_failure: true
  variables:
    GOLANG: skip
    NAME: alpine-edge
    TARGET_BASE_IMAGE: docker.io/library/alpine:edge


x86_64-centos-stream-9:
  extends: .native_build_job
  needs:
    - job: x86_64-centos-stream-9-container
      optional: true
  allow_failure: false
  variables:
    NAME: centos-stream-9
    TARGET_BASE_IMAGE: quay.io/centos/centos:stream9


x86_64-debian-12:
  extends: .native_build_job
  needs:
    - job: x86_64-debian-12-container
      optional: true
  allow_failure: false
  variables:
    NAME: debian-12
    RUST: skip
    TARGET_BASE_IMAGE: docker.io/library/debian:12-slim


x86_64-debian-13:
  extends: .native_build_job
  needs:
    - job: x86_64-debian-13-container
      optional: true
  allow_failure: true
  variables:
    NAME: debian-13
    TARGET_BASE_IMAGE: docker.io/library/debian:trixie-slim


x86_64-debian-sid:
  extends: .native_build_job
  needs:
    - job: x86_64-debian-sid-container
      optional: true
  allow_failure: true
  variables:
    NAME: debian-sid
    TARGET_BASE_IMAGE: docker.io/library/debian:sid-slim


x86_64-fedora-41:
  extends: .native_build_job
  needs:
    - job: x86_64-fedora-41-container
      optional: true
  allow_failure: false
  variables:
    NAME: fedora-41
    PERL: force
    TARGET_BASE_IMAGE: registry.fedoraproject.org/fedora:41


x86_64-fedora-42:
  extends: .native_build_job
  needs:
    - job: x86_64-fedora-42-container
      optional: true
  allow_failure: false
  variables:
    NAME: fedora-42
    PERL: force
    TARGET_BASE_IMAGE: registry.fedoraproject.org/fedora:42


x86_64-fedora-42-clang:
  extends: .native_build_job
  needs:
    - job: x86_64-fedora-42-container
      optional: true
  allow_failure: false
  variables:
    CC: clang
    CXX: clang++
    NAME: fedora-42
    PERL: skip
    TARGET_BASE_IMAGE: registry.fedoraproject.org/fedora:42


x86_64-fedora-rawhide:
  extends: .native_build_job
  needs:
    - job: x86_64-fedora-rawhide-container
      optional: true
  allow_failure: true
  variables:
    NAME: fedora-rawhide
    PERL: force
    TARGET_BASE_IMAGE: registry.fedoraproject.org/fedora:rawhide


x86_64-fedora-rawhide-clang:
  extends: .native_build_job
  needs:
    - job: x86_64-fedora-rawhide-container
      optional: true
  allow_failure: true
  variables:
    CC: clang
    CXX: clang++
    NAME: fedora-rawhide
    PERL: skip
    TARGET_BASE_IMAGE: registry.fedoraproject.org/fedora:rawhide


x86_64-opensuse-leap-15:
  extends: .native_build_job
  needs:
    - job: x86_64-opensuse-leap-15-container
      optional: true
  allow_failure: false
  variables:
    NAME: opensuse-leap-15
    TARGET_BASE_IMAGE: registry.opensuse.org/opensuse/leap:15.6


x86_64-opensuse-tumbleweed:
  extends: .native_build_job
  needs:
    - job: x86_64-opensuse-tumbleweed-container
      optional: true
  allow_failure: true
  variables:
    NAME: opensuse-tumbleweed
    TARGET_BASE_IMAGE: registry.opensuse.org/opensuse/tumbleweed:latest


x86_64-ubuntu-2204:
  extends: .native_build_job
  needs:
    - job: x86_64-ubuntu-2204-container
      optional: true
  allow_failure: false
  variables:
    NAME: ubuntu-2204
    RUST: skip
    TARGET_BASE_IMAGE: docker.io/library/ubuntu:22.04


x86_64-ubuntu-2404:
  extends: .native_build_job
  needs:
    - job: x86_64-ubuntu-2404-container
      optional: true
  allow_failure: false
  variables:
    NAME: ubuntu-2404
    RUST: skip
    TARGET_BASE_IMAGE: docker.io/library/ubuntu:24.04



# Cross build jobs

mingw32-fedora-41:
  extends: .cross_build_job
  needs:
    - job: mingw32-fedora-41-container
      optional: true
  allow_failure: false
  variables:
    CROSS: mingw32
    GOLANG: skip
    NAME: fedora-41
    RUST: skip
    TARGET_BASE_IMAGE: registry.fedoraproject.org/fedora:41


mingw64-fedora-41:
  extends: .cross_build_job
  needs:
    - job: mingw64-fedora-41-container
      optional: true
  allow_failure: false
  variables:
    CROSS: mingw64
    GOLANG: skip
    NAME: fedora-41
    RUST: skip
    TARGET_BASE_IMAGE: registry.fedoraproject.org/fedora:41


# Native cirrus build jobs

x86_64-freebsd-13:
  extends: .cirrus_build_job
  needs: []
  allow_failure:
    exit_codes: 3
  variables:
    CIRRUS_VM_IMAGE_NAME: freebsd-13-4
    CIRRUS_VM_IMAGE_SELECTOR: image_family
    CIRRUS_VM_INSTANCE_TYPE: freebsd_instance
    GOLANG: skip
    INSTALL_COMMAND: pkg install -y
    NAME: freebsd-13
    PERL: skip
    UPDATE_COMMAND: pkg update
    UPGRADE_COMMAND: pkg upgrade -y


x86_64-freebsd-14:
  extends: .cirrus_build_job
  needs: []
  allow_failure:
    exit_codes: 3
  variables:
    CIRRUS_VM_IMAGE_NAME: freebsd-14-2
    CIRRUS_VM_IMAGE_SELECTOR: image_family
    CIRRUS_VM_INSTANCE_TYPE: freebsd_instance
    GOLANG: skip
    INSTALL_COMMAND: pkg install -y
    NAME: freebsd-14
    PERL: skip
    UPDATE_COMMAND: pkg update
    UPGRADE_COMMAND: pkg upgrade -y


x86_64-freebsd-current:
  extends: .cirrus_build_job
  needs: []
  allow_failure: true
  variables:
    CIRRUS_VM_IMAGE_NAME: freebsd-15-0-snap
    CIRRUS_VM_IMAGE_SELECTOR: image_family
    CIRRUS_VM_INSTANCE_TYPE: freebsd_instance
    INSTALL_COMMAND: pkg install -y
    NAME: freebsd-current
    PERL: skip
    UPDATE_COMMAND: pkg update
    UPGRADE_COMMAND: pkg upgrade -y


aarch64-macos-14:
  extends: .cirrus_build_job
  needs: []
  allow_failure:
    exit_codes: 3
  variables:
    CIRRUS_VM_IMAGE_NAME: ghcr.io/cirruslabs/macos-runner:sonoma
    CIRRUS_VM_IMAGE_SELECTOR: image
    CIRRUS_VM_INSTANCE_TYPE: macos_instance
    GOLANG: skip
    INSTALL_COMMAND: brew install
    NAME: macos-14
    PATH_EXTRA: /usr/local/opt/ccache/libexec:/usr/local/opt/gettext/bin:/usr/local/opt/libpcap/bin:/usr/local/opt/libxslt/bin:/usr/local/opt/rpcgen/bin
    PKG_CONFIG_PATH: /usr/local/opt/curl/lib/pkgconfig:/usr/local/opt/libpcap/lib/pkgconfig:/usr/local/opt/libxml2/lib/pkgconfig:/usr/local/opt/ncurses/lib/pkgconfig:/usr/local/opt/readline/lib/pkgconfig:/opt/homebrew/opt/e2fsprogs/lib/pkgconfig
    RUST: skip
    UPDATE_COMMAND: brew update
    UPGRADE_COMMAND: brew upgrade
